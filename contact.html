<!DOCTYPE html>
<html>
  <head>
    
    <style>
      #orbit-map-container {
        width: 100%;
        height: 600px;
      }
    </style>
    
  </head>
  <body>
    
    <div id="orbit-map-container"></div>
    
    <script>
    (function() {
  var leolabs = {};
  window.leolabs = leolabs;

  leolabs.OrbitMap2d = OrbitMap2d;
  leolabs.OrbitMap3d = OrbitMap3d;

  var platformBaseUrl = 'https://platform.leolabs.space';

  function OrbitMap2d(containerEl, config) {
    checkContainerEl(containerEl);
    if (!Array.isArray(config.catalogNumbers)) {
      throw new Error('"catalogNumbers" must be an array');
    }
    config.suppressErrorMessages = true;
    var iframe = document.createElement('iframe');
    iframe.addEventListener('load', function() {
      iframe.contentWindow.postMessage(config, platformBaseUrl);
    });
    var queryString = 'display=2D&catalogNumbers=' + encodeURIComponent(config.catalogNumbers.join(','));
    if (config.apiAccessKey) {
      queryString += '&apiAccessKey=' + encodeURIComponent(config.apiAccessKey);
    }
    iframe.src = platformBaseUrl + '/visualizations/embed/v1/map?' + queryString;
    styleIframe(containerEl, iframe);
    containerEl.appendChild(iframe);
  }

  function OrbitMap3d(containerEl, config) {
    checkContainerEl(containerEl);
    config.suppressErrorMessages = true;
    if (config.showUncertaintyEllipsoids === false) {
      config.useTles = true;
    }
    config.autoRefresh = false;
    config.showMenuItems = config.showMenuItems || {};
    config.showMenuItems.autoRefresh = false;
    var iframe = document.createElement('iframe');
    iframe.addEventListener('load', function() {
      iframe.contentWindow.postMessage({settings: config}, platformBaseUrl);
    });
    iframe.src = platformBaseUrl + '/visualizations/embed/v1/map?display=3D&mode=orbit';
    styleIframe(containerEl, iframe);
    containerEl.appendChild(iframe);
  }

  function checkContainerEl(containerEl) {
    if (!(containerEl instanceof Element)) {
      throw new Error('invalid container element');
    }
  }

  function styleIframe(containerEl, iframe) {
    if (getComputedStyle(containerEl).position === 'static') {
      containerEl.style.position = 'relative';
    }
    iframe.style.position = 'absolute';
    iframe.style.top = '0px';
    iframe.style.left = '0px';
    iframe.style.width = '100%';
    iframe.style.height = '100%';
    iframe.style.border = 'none';
    iframe.style.margin = '0px';
    iframe.style.padding = '0px';
  }
})();
    </script>
    <script>
      var containerEl = document.getElementById('orbit-map-container');
      var config = {
          apiAccessKey: undefined,    // required. e.g. 'abcdefghijklm123'
        catalogNumbers: undefined,  // required. e.g. ['L335', 4793, 'L225', 36508]
        epoch: new Date(),
        startOffset: 720,
        endOffset: 720,
        animation: 'none',

        showUncertaintyEllipsoids: true,
        followObject: true,
        showObjectNames: true,
        showOrbitPath: true,
        showLeoLabsInstruments: true,
        showRadioHorizons: false,
        showUncertaintyAxes: false,

        objectColor: '#cccccc',
        orbitPathColor: '#ffd480',
        uncertaintyEllipsoidColor: '#ffff00',
        radioHorizonColor: '#ffa500',

        minimizeMenu: false,
        showMenuItems: {
        animation: true,
        viewLive: true,
        time: true,
        speed: true,
        followObject: true,
        orbitPath: true,
        uncertaintyAxes: true,
        objectNames: true,
        radioHorizons: true,
        instruments: true
    },
        customObjectNames: null,
        excludeCatalogNumberFromGlobeObjectName: false
};  
      var map = new leolabs.OrbitMap3d(containerEl, config);
    </script>
    <script>
    var map = new leolabs.OrbitMap3d(containerEl, {
        apiAccessKey: 'YOUR API ACCESS KEY HERE',
        catalogNumbers: ['L2669', 'L335'],
        animation: 'live',
        showUncertaintyEllipsoids: false,
        followObject: false,
        minimizeMenu: true
});
    </script>
  </body>
</html>